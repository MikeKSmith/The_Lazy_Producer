<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Tools - MIDI tools: chords and added notes – The Lazy Producer</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./Chapter-005-Process-Routing.html" rel="next">
<link href="./Chapter-003-Process-Follow_Actions.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-485d01fc63b59abcd3ee1bf1e8e2748d.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./Chapter-004-Tools-MIDI_tools.html"><span class="chapter-title">Tools - MIDI tools: chords and added notes</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">The Lazy Producer</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About the book</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter-000-Preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter-0000-Defintion-Generative.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">What do we mean “Generative” music?</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter-001-Recipe-Changing_Chords.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Recipe - Changing chords</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter-002-Process-Note_wise_probability.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Process - Note-wise probability</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter-003-Process-Follow_Actions.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Process - Follow Actions</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter-004-Tools-MIDI_tools.html" class="sidebar-item-text sidebar-link active"><span class="chapter-title">Tools - MIDI tools: chords and added notes</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter-005-Process-Routing.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Process - Routing MIDI and Audio</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter-006-Recipe-MIDI_tools.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Recipe - Doing more with less using MIDI tools and plugins</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter-007-Tools-Modulators.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Tools - Modulators</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter-008-Process-Tuning_Parameters.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Process - Tuning Parameters</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter-009-Process-Balance_unexpected_and_predictable.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Process - Balancing the unexpected and the predictable</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter-010-Recipe-Balance_random_and_predictable.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Recipe - Balancing the unexpected and the predictable</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter-011-Process-Workflow-Capturing_Ideas.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Process - Workflow: capturing generative ideas</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter-012-Tools-MIDI_Generators.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Tools - MIDI Generators</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter-013-Recipe-MIDI_generators.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Recipe - Using MIDI generators</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter-014-Tools-Audio_Generators.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Tools - Audio Generators</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter-015-Tools-Audio_Effects.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Tools - Creative use of audio effects</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter-016-Tools-PaulStretch.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Tools - Extreme audio stretching with PaulStretch</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter-017-Recipe-Audio_generators_drone.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Recipe - Making a drone using some audio generators and effects</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter-018-Process-Scales.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Process - Using Scales</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter-019-Process-Using_Field_Recordings.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Process - Using Field Recordings</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter-020-Recipe-Sampler_drone.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Recipe - Audio clip or Sampler into effects</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter-021-Process-Unsynced_loops.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Process - Unsynced loops</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter-022-Recipe-Fibonacci_loops.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Recipe - Using the Fibonacci sequence to create loops (after DivKid)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter-023-Process-Your_Unpredictable_Bandmate.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Process - Your Unpredictable Bandmate</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter-024-Tool-Random_Sound_Design.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Tool - Random sound design with Instrument Racks</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter-025-Tool-Variations.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Tool - Variations</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter-026-Tool-ChainSelect.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Tool - Chain Select</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter-030-Tools-Live12_Intro.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Tools - Live 12 Overview: MIDI and compositional tools</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter-031-Tools-Live12_Sequencers.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Tools - Live 12 Sequencers</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter-032-Tools-Live12_Modulation.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Tools - Live 12 Modulation</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter-033-Tools-Live12_MIDI_Generation_Transformation.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Tools - Live 12 MIDI Generation and Transformation</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#abletons-note-echo-plugin" id="toc-abletons-note-echo-plugin" class="nav-link active" data-scroll-target="#abletons-note-echo-plugin">Ableton’s Note Echo plugin</a></li>
  <li><a href="#abletons-random-plugin" id="toc-abletons-random-plugin" class="nav-link" data-scroll-target="#abletons-random-plugin">Ableton’s Random plugin</a></li>
  <li><a href="#abletons-note-length-plugin" id="toc-abletons-note-length-plugin" class="nav-link" data-scroll-target="#abletons-note-length-plugin">Ableton’s Note Length plugin</a></li>
  <li><a href="#abletons-scale-plugin" id="toc-abletons-scale-plugin" class="nav-link" data-scroll-target="#abletons-scale-plugin">Ableton’s Scale plugin</a></li>
  <li><a href="#abletons-chord-plugin" id="toc-abletons-chord-plugin" class="nav-link" data-scroll-target="#abletons-chord-plugin">Ableton’s Chord plugin</a>
  <ul class="collapse">
  <li><a href="#live-12-chord-device" id="toc-live-12-chord-device" class="nav-link" data-scroll-target="#live-12-chord-device">Live 12 Chord device</a></li>
  </ul></li>
  <li><a href="#probability-gate" id="toc-probability-gate" class="nav-link" data-scroll-target="#probability-gate">Probability Gate</a></li>
  <li><a href="#deviate" id="toc-deviate" class="nav-link" data-scroll-target="#deviate">Deviate</a></li>
  <li><a href="#max-for-live-tintinnabulator-plugin" id="toc-max-for-live-tintinnabulator-plugin" class="nav-link" data-scroll-target="#max-for-live-tintinnabulator-plugin">Max for Live Tintinnabulator plugin</a></li>
  <li><a href="#max-for-live-schwartzonator-plugin" id="toc-max-for-live-schwartzonator-plugin" class="nav-link" data-scroll-target="#max-for-live-schwartzonator-plugin">Max for Live Schwartzonator plugin</a></li>
  <li><a href="#max-for-live-chord-generator-plugin" id="toc-max-for-live-chord-generator-plugin" class="nav-link" data-scroll-target="#max-for-live-chord-generator-plugin">Max for Live Chord Generator plugin</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="Chapter-004-Tools-MIDI_tools" class="quarto-section-identifier"><span class="chapter-title">Tools - MIDI tools: chords and added notes</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>There are many <a href="https://www.ableton.com/en/live-manual/11/live-midi-effect-reference/#live-midi-effect-reference">MIDI tools and devices</a> within Ableton Live that will help manipulate MIDI notes - shifting pitch, adding random pitch deviation, applying arpeggiation (cycling through notes in a chord), adding additional notes to an incoming note to make a chord, changing the length of the played MIDI note, as well as manipulating incoming MIDI control messages - using the modulation wheel to control expression, changing velocity, modulating other devices based on velocity, MPE and other control messages.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Key idea
</div>
</div>
<div class="callout-body-container callout-body">
<p>Adding notes, randomly changing the pitch of notes, changing the lengths of notes and generating chords within a given scale using MIDI plugin tools can form the basis of a generative piece. Using other MIDI plugins to arpeggiate these chords and add additional notes and harmonies will produce a constantly evolving sequence of MIDI notes within the scale.</p>
</div>
</div>
<section id="abletons-note-echo-plugin" class="level2">
<h2 class="anchored" data-anchor-id="abletons-note-echo-plugin">Ableton’s Note Echo plugin</h2>
<p><a href="https://www.ableton.com/en/live-manual/11/max-for-live-devices/#note-echo">Ableton’s Note Echo</a>plugin may at first seem a bit pointless. I mean you can take the output from an audio track and just apply a Delay or Echo to that, so why bother doing it on the MIDI side? Well, because with Note Echo it will adjust the velocity of each echoed note, and you can also pitch up or down the echos, leading to changing pitch. You can also combine Note Echo plugins to produce nice “multi-tap” delays, each with different characteristics. The echos can build up quickly if you stack these, so I tend to use them with minimal or no feedback. Combined with the Random plugin discussed below you can easily build up evolving and interesting patterns which are similar without repeating. The “Feed Delay” amount controls the amount that the velocity decays with each repeat.</p>
<div class="cell" data-fit-alt="Image shows the Note Echo MIDI device in Ableton Live. Delay time is one option, Input has Through and Mute options but Through is lit. Feed delay which governs velocity on the feedback is set to 100%. Feedback is set to 0%.">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="images/Note_Echo.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="images/Note_Echo.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="abletons-random-plugin" class="level2">
<h2 class="anchored" data-anchor-id="abletons-random-plugin">Ableton’s Random plugin</h2>
<p>The <a href="https://www.ableton.com/en/live-manual/11/live-midi-effect-reference/#random">Random plugin</a> changes the pitch of the incoming note within a range specified within the plugin. In the example shown below, incoming notes will be randomised to an increase in pitch up to 17 semi-tones above the original note with 50% probability (flip of a coin). The “Sign” switches allow you to define whether the random pitch change is added, subtracted or either to the incoming note. The “Mode” switch allows you to swap between randomness and incrementing, if you want the pitch to change gradually with each incoming note. The latter might be useful if using this with a sampler where different samples are associated with different MIDI notes. This would allow you to cycle through samples using this device.</p>
<div class="cell" data-fit-alt="Image shows the Random MIDI device in Ableton Live. Chance option is set to 50%. Choices option is set to 17, indicating 17 semitones. Scale option is set to 1 indicating one set of 17 semitones. Sign option is set to Add.">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="images/Random.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="images/Random.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="abletons-note-length-plugin" class="level2">
<h2 class="anchored" data-anchor-id="abletons-note-length-plugin">Ableton’s Note Length plugin</h2>
<p><a href="https://www.ableton.com/en/live-manual/11/live-midi-effect-reference/#note-length">Note Length</a> is a really useful plugin to help modify the incoming MIDI and make notes longer or shorter. The “Gate” control can be used to double an incoming notes length, while the “Length” control defines the length of the resulting MIDI note in milliseconds or seconds. I use this to take incoming MIDI information and “smear” it for use with pad sounds. This is useful in generative music, because you can relate the pad chord using these smeared notes to any incoming moving MIDI part. Be aware though that long “Length” settings, it’s possible to stack up MANY midi voices in a plugin. Limiting the number of voices in the plugin instrument or reducing the note length can prevent CPU overload!</p>
<div class="cell" data-fit-alt="Image shows the Note Length MIDI device in Ableton Live. Trigger option is set to Note On. Mode is set to Time. Length is set to 100 miliseconds. Gate is set to 100%. Key Scale is set to zero. Decay Time is set to 60 seconds.">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="images/Note_Length.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="images/Note_Length.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="abletons-scale-plugin" class="level2">
<h2 class="anchored" data-anchor-id="abletons-scale-plugin">Ableton’s Scale plugin</h2>
<p>The <a href="https://www.ableton.com/en/live-manual/11/live-midi-effect-reference/#scale">Scale plugin</a> is the generative musician’s friend. It takes whatever MIDI nonsense you through at it and quantises it to a given scale. <strong><em>This isn’t cheating.</em></strong> Well, it kind of is, but it’s a well used cheat within the modular synthesis world where quantisers have been used for a long time to ensure that control voltage (CV) signals conform to a particular scale.</p>
<div class="cell" data-fit-alt="Image shows the Scale MIDI device in Ableton Live. Base scale note is set to C. Scale is set to Minor Pentatonic. Other options are left at the default value. A grid of squares shows how input MIDI notes are mapped or quantised to output MIDI notes.">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="images/Scale.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><img src="images/Scale.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note Range
</div>
</div>
<div class="callout-body-container callout-body">
<p>The MIDI Pitch and Scale devices have the option to limit the range of notes played. You can specify the Lowest MIDI note (default C-2) and the Range (default 127st) but you can also use these to limit the MIDI note range for a part and what to do with MIDI notes that fall outside the range (Block not to play, Fold to have the note folded back into the nominated range or Limit to play the upper end of the note range specified). When generating parts using techniques here, it’s sometimes useful to ensure that you don’t have unexpectedly very high or very low notes within a part.</p>
</div>
</div>
<div class="cell" data-fit-alt="Image shows the Pitch and Scale MIDI devices in Ableton Live. Pitch is set to 0 semitones, but the Lowest pitch option is set to C3 and the Range option is set to 36 semitones. Mode options is set to Block. The Scale device also has Lowest and Range options set equivalently.">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="images/Pitch_Scale_Range.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5"><img src="images/Pitch_Scale_Range.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="abletons-chord-plugin" class="level2">
<h2 class="anchored" data-anchor-id="abletons-chord-plugin">Ableton’s Chord plugin</h2>
<p>Ableton’s <a href="https://www.ableton.com/en/live-manual/11/live-midi-effect-reference/#chord">Chord plugin</a> adds notes to incoming MIDI notes to form chords. Up to six additional tones can be added to the incoming MIDI. Each tone has its own associated velocity which can help accentuate certain parts of the chord over others. The Chord plugin adds notes to <strong><em>every</em></strong> MIDI note it receives, and in fixed intervals above or below that incoming MIDI note. So again, it may be a good idea to use the Scale plugin to ensure that the generated notes and chords fall within a desired scale.</p>
<div class="cell" data-fit-alt="Image shows the Chord MIDI device in Ableton Live 11. There are six dials showing four different changes in MIDI notes - 7 semitones, 12 semitones, 17 semitones and minus 12 semitones. ">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="images/Chord.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6"><img src="images/Chord.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div>
</div>
<section id="live-12-chord-device" class="level3">
<h3 class="anchored" data-anchor-id="live-12-chord-device">Live 12 Chord device</h3>
<p>In Live 12 the Chord device gets a few extra bells and whistles…</p>
<div class="cell" data-fit-alt="Image shows the Chord MIDI device in Ableton Live 12. The difference over the Live 11 version includes the ability for the device to be scale aware which changes the dial inputs from semitones to scale degrees. There is also the ability to Learn the chord from the MIDI clip input. New options are Strum, Tension, Crescendo, and Chance. ">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="images/Chord_Live12.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7"><img src="images/Chord_Live12.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div>
</div>
<p>Live 12’s Chord device includes the ability to be scale aware, so that instead of showing semitone changes from the incoming note, we can specify scale degrees instead. The device also has the ability to Learn chords from a MIDI clip (which could then be stored later as Variations) or used in the Expressive Chords device in Live 12.2. Strum gives you the ability to strum the chord with notes delayed strumming up with positive values or strumming down with negative values. Tension will apply a curve to the MIDI on note - making the curve faster as it goes on. Crescendo applies note velocity ramp to the notes. In Live 11 the Velocity of each note could be specified, but in Live 12 we can also optionally change the Chance of each note.</p>
<p>Coupling the Chord plugin with the Arpeggiator and Random plugins is a good way to make arpeggiated lines that do not repeat exactly. As with most of these MIDI plugins the order you specify them can provide interesting variations. So Chord -&gt; Arpeggiator -&gt; Random -&gt; Scale adds random notes into the arpeggio resulting in cascades of notes that change note to note, but within a constrained set of output notes. Random -&gt; Chord -&gt; Arpeggio -&gt; Scale would lead to a consistent arpeggio for the duration of the input note but could be different for each cycle of the generating MIDI loop.</p>
<div class="cell" data-fit-alt="Image shows a collection of MIDI devices in an chain, starting with Note Echo, then Chord, then Arpeggiator, then Random, another Note Echo, a Scale device and Velocity device.">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="images/Cascading_notes.png" class="lightbox" data-gallery="quarto-lightbox-gallery-8"><img src="images/Cascading_notes.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="probability-gate" class="level2">
<h2 class="anchored" data-anchor-id="probability-gate">Probability Gate</h2>
<p>The <a href="https://maxforlive.com/library/device/6982/mm4l-probability-gate#:~:text=Device%20Details&amp;text=Probability%20keeps%20things%20interesting%2C%20and,that%20extra%20bit%20of%20variation.">MightM4L (MML) Probability Gate</a> is a Max for Live MIDI device which allows you to set a probability (in %) and it then allows that proportion of notes through the device. This can be a very useful device to use with “busy” MIDI generators like the Turing Machine (see <a href="Chapter-012-Tools-MIDI_Generators.html">Tools - MIDI Generators</a> ) which are constantly generating 1/8th or 1/16th notes. Use of a probability gate “thins out” that stream of output.</p>
<div class="cell" data-fit-alt="Image shows the Max for Live Probability Gate MIDI device in Ableton Live 12. A central dial shows Probability set to 66%">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="images/Probability_Gate.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9"><img src="images/Probability_Gate.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="deviate" class="level2">
<h2 class="anchored" data-anchor-id="deviate">Deviate</h2>
<p>The free <a href="https://www.novelmusic.org/m4l/deviate">Deviate Max for Live plugin from Novel Music</a> can add variation to incoming MIDI notes. The “TRIGGER” section defines how often the deviation or variation will occur - so it is possible to balance the unexpected with the predictable, or keep things the same before introducing randomness. One important aspect of Deviate is that it has a memory, so if you like the random pattern generated, you can “lock” this by moving the “LOCK” slider to the right. This means it acts a bit like the Turing Machine devices used in modular synthesis. Deviate has two sides - MIDI, which we’ll cover here and MOD which we’ll cover in the section .</p>
<p>The “TRIGGER” section is worth spending a little time to understand. It determines how many MIDI notes will pass before the deviation is triggered. So if set to “1” then every note triggers a new deviation. If set to 8 then every 8 notes the deviation settings may be triggered, but then these deviation settings persist for the next 7 notes. The probability to the right (below set to 100%) means that the deviation will be triggered every time, but if lower than 100% then that probability determines whether <strong><em>any</em></strong> deviation will occur. So if you set 8 notes, with 100% probability then the Octave deviation may trigger 18% of the time, but if it does then notes will sound either an octave up (or down) for the next 7 notes.</p>
<p>The “MEMORY” section works along side the “LOCK” switch. Deviate can “listen” to a sequence of MIDI notes of the nominated length (here 8 notes) and will keep track of what deviations were applied in that 8 note sequence. If you like what you’re hearing you can “LOCK” the deviation settings in by sliding the “LOCK slider to the right. As you bring the”LOCK” slider back to the left it will start to reintroduce new deviations while retaining the memory of the locked settings. With the “LOCK” slider all the way to the left, the “TRIGGER” and Deviate settings are applied according to the “TRIGGER” settings. Deviate can also learn how many notes are in a MIDI clip if you click on the “L” button next to “MEMORY”. The memory sequence can be divided by 2 or multiplied by 2 using the adjacent buttons.</p>
<p>It is worth reviewing <a href="https://youtu.be/4WwKGUV2H4I">the YouTube tutorial for this device</a> as it can do <strong><em>a lot</em></strong>.</p>
<div class="cell" data-fit-alt="Image shows the Deviate MIDI device from Novel Music software. The device has some options on the left including a slider marked Lock and a collection of random deviation options for MIDI in a box on the right. Options include Octave, Velocity, Duration, Delay, Ratchets and Bend. A tab marked Mod is hidden behind the MIDI tab. ">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="images/Deviate_MIDI.png" class="lightbox" data-gallery="quarto-lightbox-gallery-10"><img src="images/Deviate_MIDI.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="max-for-live-tintinnabulator-plugin" class="level2">
<h2 class="anchored" data-anchor-id="max-for-live-tintinnabulator-plugin">Max for Live Tintinnabulator plugin</h2>
<p>The <a href="https://maxforlive.com/library/device/7569/tintinnabulator">Tintinnabulator</a> Max for Live plugin by Milton Mermikedes is an implementation of Arvo Part’s <a href="https://en.wikipedia.org/wiki/Tintinnabuli">Tintinnabulation technique</a>. This technique arpeggiates the original chord, and then adds additional notes / harmonies to those notes based on the nearest tone from the scale triad. So 1st position inferior C minor takes a C minor triad (C - Eb - G) and assigns a harmony to the incoming notes using the nearest chord tone 1 position lower than the incoming note (the M-Voice). Within the plugin you can specify the delay between the original notes and the additional harmonies. The good news for producers of generative music is that the choice of T-Voice position (1st Superior, 2nd Superior, 1st Inferior, 2nd Inferior) can be set to be random. This will add variety and keeps the T-Voice harmony changing. This plugin can be used on melody lines or chord inputs for a variety of different effects.</p>
<div class="cell" data-fit-alt="Image shows the Max for Live Tintinabulator MIDI device. The device has a representation of the keyboard with some notes highlighted in blue. Delay options are shown below the keyboard ranging from Now through 4th notes to Free. On the left are optiosn specifying the scale root note and key showing Major or Minor. Options for first and second position superior or inferior are also displayed.">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="images/Tintinnabulator.png" class="lightbox" data-gallery="quarto-lightbox-gallery-11"><img src="images/Tintinnabulator.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="max-for-live-schwartzonator-plugin" class="level2">
<h2 class="anchored" data-anchor-id="max-for-live-schwartzonator-plugin">Max for Live Schwartzonator plugin</h2>
<p>The Schwartzonator plugin (<a href="https://www.ableton.com/en/packs/schwarzonator/" class="uri">https://www.ableton.com/en/packs/schwarzonator/</a>) combines chord generation with scale quantising. You specify what notes are “valid” for the output - quantising input to output - and then the knobs below the “piano” define the makeup of the output chord. The “add notes” knob defines how many additional notes you want to add to the input MIDI note to create a chord. “spread” spreads these out over the keyboard. “random” changes the disposition of the chord - creating chord inversions and changing the output chord when it’s triggered by the input MIDI note. With “random” increased you can get ever-changing output chords for the same input notes. “dynamic” adds random velocity across the output notes. “select” allows you to automate selection of the Chord Set.</p>
<p>Schwartzonator was designed to help musicians who did not know musical theory generate chords from single input notes and the scale or chord quantising allows the user to generate musical ideas that sound good. For the generative musician there are many things in this plugin that are appealing - the ability to turn single input notes into chords that conform to a scale or chord pattern and the ability to also add randomness to ensure that the chords are different each time they are triggered. These coupled with the MIDI tools above can help create evolving patterns that fit with an overall scale key, chord pattern etc. defined for the track.</p>
<div class="cell" data-fit-alt="Image shows the Schwarzonator MIDI device.  A keyboard is represented with some notes greyed out and others left white. Allowed notes from the set are represented in white. Source note is shown in red and notes from the chord added are shown in green. Various dials allow you to set options for which notes are added to the incoming source note.">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="images/Schwarzonator.png" class="lightbox" data-gallery="quarto-lightbox-gallery-12"><img src="images/Schwarzonator.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="max-for-live-chord-generator-plugin" class="level2">
<h2 class="anchored" data-anchor-id="max-for-live-chord-generator-plugin">Max for Live Chord Generator plugin</h2>
<p>The <a href="https://maxforlive.com/library/device/917/chord-generator">Nordmann Chord Generator</a> Max for Live plugin is similar to the Schwartzonator above in that it takes input MIDI notes and turns them into chords. The difference is that while the Schwartzonator works by defining notes that can be used or not in the output, the Nordmann Chord Generator assumes a little more musical theory that the user knows what adding a 6, 7, add9 means. Of course, you can listen and find out… Also not every note in a MIDI scale is going to produce output chords that are in scale if you use a “b5” chord with them. In this way, using the MIDI scale plugin after the Chord Generator may help quantise the MIDI to sound reasonable in the context of the scale, although selecting to use a “b5” chord and quantising to perfect 5th may seem counterintuitive.</p>
<div class="cell" data-fit-alt="Image shows the Max for Live Nordmann Chord Generator MIDI device. A keyboard is represented on the right, showing the original input note, and pitches of four associated notes. A dial showing disposition sits below the keyboard which includes a button marked Random. To the left are various button options to refine the chord type including major and minor, whether to include the third of the chord. Chord 6th, 7th, major 7th, add 9th, flat 5, flat ninth etc. are all present.">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="images/Nordmann_chord.png" class="lightbox" data-gallery="quarto-lightbox-gallery-13"><img src="images/Nordmann_chord.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
            // target, if specified
            link.setAttribute("target", "_blank");
            if (link.getAttribute("rel") === null) {
              link.setAttribute("rel", "noopener");
            }
            // default icon
            link.classList.add("external");
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./Chapter-003-Process-Follow_Actions.html" class="pagination-link" aria-label="Process - Follow Actions">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-title">Process - Follow Actions</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./Chapter-005-Process-Routing.html" class="pagination-link" aria-label="Process - Routing MIDI and Audio">
        <span class="nav-page-text"><span class="chapter-title">Process - Routing MIDI and Audio</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</body></html>